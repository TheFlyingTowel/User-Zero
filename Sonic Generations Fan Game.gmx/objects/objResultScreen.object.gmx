<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-9999</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// External values for ranking // 10000 = 1 second

GameTime      = 599999;
GameRings     = 0;
Time          = floor(global.GameTime/1000);

RingBonus  = global.Rings*100;
TimeBonus  = Time;
TotalBonus = 0;

if (Time &gt;= global.ATime)      {ToNextRankTime = global.GameTime-(global.ATime*1000)}
else if (Time &gt;= global.BTime) {ToNextRankTime = global.GameTime-(global.BTime*1000)}
else if (Time &gt;= global.CTime) {ToNextRankTime = global.GameTime-(global.CTime*1000)}

ScaleForParts   = 0;
ScaleForRank    = 0;
ScaleForButtons = 0;
ShowRank        = 0;
WeAreDone       = 0;
ShowNextTime    = 0;
alarm[0]       = 50;
alarm[10]      = 50;

objPlayer.AnimationDirection = 1;

ini_open('lvldata.ini');
TempCompleted = ini_read_real(global.Level,'Completed',0);
ini_close();
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>objPlayer</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>Action = ActionFinish;
Animation = "RankWaiting";
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>301</id>
        <kind>0</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_set_alarm</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>0</kind>
            <string>15</string>
          </argument>
          <argument>
            <kind>4</kind>
            <string>4</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="10">
      <action>
        <libid>1</libid>
        <id>211</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_sound</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>6</kind>
            <sound>sndResultCount</sound>
          </argument>
          <argument>
            <kind>3</kind>
            <string>1</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="9">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
if (global.PerfectBonus == 1){
 ScaleForRank = 0;
 ShowRank += 1;
 ShowNextTime = 1;
 sound_play(sndResultTotal);
 sound_play(sndResultTotal2);
 if (ShowRank == 5) sound_play(sndResultTotal2);
 DrawPerfectBonus = 1;
 global.PerfectBonus = 0; 
 switch (ShowRank)
 { 
 case 5: global.bkResults = FMODSoundLoop(global.Results1Music); break;
 case 4: global.bkResults = FMODSoundLoop(global.Results1Music); break;
 case 3: global.bkResults = FMODSoundLoop(global.Results2Music); break;
 case 2: global.bkResults = FMODSoundLoop(global.Results2Music); break;
 case 1: global.bkResults = FMODSoundLoop(global.Results2Music); break;
 }
 }
 alarm[5] = 60;
 alarm[8] = 120;
 alarm[7] = 125;
 
switch (ShowRank)
{ 
case 5: with (objPlayer) {Animation = "RankS"} break;
case 4: with (objPlayer) {Animation = "RankA"} break;
case 3: with (objPlayer) {Animation = "RankB"} break;
case 2: with (objPlayer) {Animation = "RankC"} break;
case 1: with (objPlayer) {Animation = "RankD"} break;
}

if ScaleForRank&lt;1 {
ScaleForRank += 1/8;
alarm[9] = 1;
}



</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="8">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>DrawPerfectBonus = 0;

ini_open('lvldata.ini');

if (TotalBonus&gt;global.RecordScore) 
{ini_write_real(global.Level,'Score',TotalBonus)};

if (GameTime&lt;global.RecordTime) 
{
ini_write_real(global.Level,'Time',GameTime)
ini_write_real(global.Level,'Time2',global.RecordTime)
ini_write_real(global.Level,'Time3',global.RecordTime2)
} 
if (GameTime&gt;global.RecordTime) &amp;&amp; (GameTime&lt;global.RecordTime2) 
{
ini_write_real(global.Level,'Time2',GameTime)
ini_write_real(global.Level,'Time3',global.RecordTime2)
} 
if (GameTime&gt;global.RecordTime2) &amp;&amp; (GameTime&lt;global.RecordTime3) 
{
ini_write_real(global.Level,'Time3',GameTime)
} 

if (GameRings&gt;global.RecordRings)  
{ini_write_real(global.Level,'Rings',GameRings)};

if (ShowRank&gt;global.RecordRank)
{ini_write_real(global.Level,'Rank',ShowRank)};

ini_write_real(global.Level,'RedRing1',global.RedRing[1]);
ini_write_real(global.Level,'RedRing2',global.RedRing[2]);
ini_write_real(global.Level,'RedRing3',global.RedRing[3]);

if !global.Completed {
global.Completed = 1;
global.CompletedLevels += 1;
}
ini_write_real(global.Level,'Completed',global.Completed);
ini_write_real('GLOBAL','RedRings',global.RedRing);
ini_write_real('GLOBAL','CompletedLevels',global.CompletedLevels);


ini_close();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="7">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>Go = 1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="5">
      <action>
        <libid>1</libid>
        <id>201</id>
        <kind>0</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_create_object</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>10</kind>
            <object>objShopPointsCounter</object>
          </argument>
          <argument>
            <kind>0</kind>
            <string>view_xview+240</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>view_yview</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>FMODSoundPlay(global.ZoneEndMusic);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (!Rank) {
Rank = 1;
sound_play(sndResultTotal);
sound_play(sndResultTotal2);

if TotalBonus&gt;=global.AScore {
 ShowRank = 4; //A
 }
else if TotalBonus&gt;=global.BScore {
 ShowRank = 3; //B
 }
else if TotalBonus&gt;=global.CScore {
 ShowRank = 2; //C
 }
else {
 ShowRank = 1; //D
 }
 global.Score = TotalBonus;
}

if ScaleForRank&lt;1 {
ScaleForRank += 1/8;
alarm[2] = 1;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if ( TimeBonus &lt; global.MaxTime ) 
{
alarm[1]   = 1;
if (GameTime&gt;global.GameTime) {GameTime -= GameTime/70};
TimeBonus += 1;
if (TimeBonus &lt;= global.ATime) {TotalBonus += 500}
else if (TimeBonus &gt; global.ATime &amp;&amp; TimeBonus &lt;= global.BTime)  {TotalBonus += 300}
else if (TimeBonus &gt; global.BTime &amp;&amp; TimeBonus &lt;= global.CTime)  {TotalBonus += 200}
else if (TimeBonus &gt; global.CTime &amp;&amp; TimeBonus &lt;= global.MaxTime){TotalBonus += 100}
}
else
{
TimeBonus = global.MaxTime;
GameTime = global.GameTime;
alarm[2] = 30;
alarm[9] = 80;
sound_stop(sndResultCount);
sound_play(sndResultTotal3);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if RingBonus&gt;0 {
global.Rings -= 1;
GameRings += 1;
TotalBonus += 10;
RingBonus -= 100;
alarm[0] = 1;
}
else {
GameTime = global.MaxTime*1000;
alarm[1] = 10;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>with (objGlobalController)
{
RingsTimer=0; 
LivesTimer=0; 
AlphaTimer=0; 
BoostTimer=0;
visible = false;
}
with (objRedRingsCounter)
{visible = false}

if (ScaleForParts)&lt;1 {
ScaleForParts += 1/12;
}

if TotalBonus&gt;=global.AScore {
 rank = 4; //A
 }
else if TotalBonus&gt;=global.BScore {
 rank = 3; //B
 }
else if TotalBonus&gt;=global.CScore {
 rank = 2; //C
 }
else {
 rank = 1; //D
 }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string> draw_sprite_ext(sprite353, 0, view_xview[0]+0, view_yview[0]+0, ScaleForParts, ScaleForParts, 0, c_white, 1)
 draw_sprite_ext(sprite352, 0, view_xview[0]+480, view_yview[0]+76, ScaleForParts, ScaleForParts, 0, c_white, 1)
 draw_sprite_ext(sprite357, 0, view_xview[0]+204, view_yview[0]+18, ScaleForParts, ScaleForParts, 0, c_white, 1)
 draw_sprite_ext(sprite358, rank, view_xview[0]+206, view_yview[0]+93, ScaleForParts, ScaleForParts, 0, c_white, 1)
 
 if (ShowNextTime == 1 &amp;&amp; ToNextRankTime != 0) {
 draw_sprite(sprite360, 0, view_xview[0]+239, view_yview[0]+167)
 draw_set_color(c_white);
 draw_set_font(global.FntHUDGen);
 draw_text(view_xview[0]+289, view_yview[0]+202, string(floor(ToNextRankTime/60000))+":"+scrStringNumberFormat(floor(ToNextRankTime/1000) mod 60,2)+";"+scrStringNumberFormat(floor(ToNextRankTime/10) mod 100,2));  
 }
  
 draw_sprite_part(sprite373, 2, 0, 0, min(147*(TotalBonus/global.AScore),147), 5, view_xview[0]+215, view_yview[0]+116);
 draw_sprite_part(sprite372, 1, 0, 0, min(97*(TotalBonus/global.BScore),97), 5, view_xview[0]+215, view_yview[0]+116);
 draw_sprite_part(sprite359, 0, 0, 0, min(49*(TotalBonus/global.CScore),49), 5, view_xview[0]+215, view_yview[0]+116);
 
 if (Rank!=0) {
 draw_sprite_ext(sprite356, 0, view_xview[0]+371, view_yview[0]+148, ScaleForRank, ScaleForRank, 0, c_white, 1)
 draw_sprite_ext(sprite356, ShowRank, view_xview[0]+371, view_yview[0]+148, 2-ScaleForRank, 2-ScaleForRank, 0, c_white, 1)
 draw_sprite_ext(sprite355, 0, view_xview[0]+363, view_yview[0]+249, 1, 1, 0, c_white, ScaleForRank)
 if TempCompleted { draw_sprite_ext(sprite355, 1, view_xview[0]+363, view_yview[0]+249, 1, 1, 0, c_white, ScaleForRank) };
 draw_sprite_ext(sprite363, current_time div 120, view_xview[0]+371, view_yview[0]+148, ScaleForParts, ScaleForParts, 0, c_white, 1)
 draw_sprite_ext(sprite356, 6, view_xview[0]+371, view_yview[0]+148, ScaleForRank, ScaleForRank, 0, c_white, 1)
 if TotalBonus&gt;global.RecordScore {
 draw_sprite(sprite354, current_time div 320, view_xview[0]+190, view_yview[0]+121);
 }
 if GameTime&lt;global.RecordTime {
 draw_sprite(sprite354, current_time div 320, view_xview[0]+190, view_yview[0]+30);
 }
 if GameRings&gt;global.RecordRings {
 draw_sprite(sprite354, current_time div 320, view_xview[0]+190, view_yview[0]+70);
 }
 }
  
 draw_set_color(c_white);
 draw_set_font(global.FntHUDGen1);
 draw_text(view_xview[0]+190+82, view_yview[0]+20+15, string(floor(GameTime/60000))+":"+scrStringNumberFormat(floor(GameTime/1000) mod 60,2)+";"+scrStringNumberFormat(floor(GameTime/10) mod 100,2));  
 draw_set_font(global.FntHUDGen2); 
 scrDrawNumberZero(view_xview[0]+190+82, view_yview[0]+20+55, GameRings, 3);    
 draw_set_font(global.FntHUDGen);
 scrDrawNumberZero(view_xview[0]+252, view_yview[0]+131, TotalBonus, 6);   
 
 if (DrawPerfectBonus = 1) {
 draw_sprite_ext(sprite371, 0, view_xview[0]+view_wview[0]/2+2, view_yview[0]+view_hview[0]/2, 2-ScaleForRank, 2-ScaleForRank, 0, c_white, ScaleForRank);
 }
 

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="83">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (Go = 1 &amp;&amp; TempCompleted = 1)
{
sound_play(sndMenuAction);
instance_create(x, y, objTransitionFadeOut);
global.NextRoom = room;
global.ShowCard = 0;
global.GetStart = 0;
global.Rings    = 0;
global.StartX   = -1;
global.StartY   = -1;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="65">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (Go = 1)
{
sound_play(sndMenuAction);
instance_create(x, y, objTransitionFadeOut);
global.NextRoom = RoomHub;
global.GetStart = 0;
global.Rings    = 0;
global.StartX   = -1;
global.StartY   = -1;
global.ShopPoints += objShopPointsCounter.shopPoints;
ini_open('lvldata.ini');
ini_write_real('GLOBAL','ShopPoints',global.ShopPoints);
ini_write_real('GLOBAL','Lives',global.Lives);
ini_close();
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
